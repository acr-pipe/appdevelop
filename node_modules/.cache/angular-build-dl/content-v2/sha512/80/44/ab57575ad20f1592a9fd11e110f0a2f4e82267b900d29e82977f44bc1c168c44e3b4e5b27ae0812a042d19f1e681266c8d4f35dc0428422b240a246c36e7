{"version":3,"sources":["./src/app/pages/infouser/infouser.page.html","./src/app/pages/infouser/infouser-routing.module.ts","./src/app/pages/infouser/infouser.module.ts","./src/app/pages/infouser/infouser.page.scss","./src/app/pages/infouser/infouser.page.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,wrBAAynB,kBAAkB,aAAa,WAAW,8QAA8Q,kBAAkB,sBAAsB,WAAW,gRAAgR,kBAAkB,aAAa,YAAY,8QAA8Q,kBAAkB,aAAa,UAAU,4LAA4L,8SAA8S,qG;;;;;;;;;;;;;;;;;;;ACAtiE;AACc;AAER;AAE/C,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,2DAAY;KACxB;CACF,CAAC;AAMF,IAAa,yBAAyB,GAAtC,MAAa,yBAAyB;CAAG;AAA5B,yBAAyB;IAJrC,8DAAQ,CAAC;QACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;KACxB,CAAC;GACW,yBAAyB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;AChBG;AACM;AACF;AAEA;AAEyB;AAEvB;AAW/C,IAAa,kBAAkB,GAA/B,MAAa,kBAAkB;CAAG;AAArB,kBAAkB;IAT9B,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,kFAAyB;SAC1B;QACD,YAAY,EAAE,CAAC,2DAAY,CAAC;KAC7B,CAAC;GACW,kBAAkB,CAAG;AAAH;;;;;;;;;;;;;ACnB/B;AAAe,sEAAO,sDAAsD,8BAA8B,GAAG,aAAa,mDAAmD,mBAAmB,iBAAiB,GAAG,6CAA6C,+9B;;;;;;;;;;;;;;;;;;;;;;;ACA/M;AACQ;AACL;AACW;AACqB;AAC3B;AACoB;AAC9E,MAAM,OAAO,GAAG,qEAAW,CAAC,OAAO,CAAC;AAOpC,IAAa,YAAY,GAAzB,MAAa,YAAY;IAgBvB,YAAqB,MAAuB,EACvB,WAAwB,EACxB,SAA0B,EAC1B,SAA0B,EAC1B,OAAyB,EACzB,WAA8B;QAL9B,WAAM,GAAN,MAAM,CAAiB;QACvB,gBAAW,GAAX,WAAW,CAAa;QACxB,cAAS,GAAT,SAAS,CAAiB;QAC1B,cAAS,GAAT,SAAS,CAAiB;QAC1B,YAAO,GAAP,OAAO,CAAkB;QACzB,gBAAW,GAAX,WAAW,CAAmB;IAAK,CAAC;IAEnD,QAAQ;;YACZ,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC;YAC/C,MAAM,KAAK,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,KAAK,EAAE,GAAG,GAAG,IAAI,CAAC,MAAM,GAAG,GAAG,EAAE,CAAC;YAClE,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;gBAC5C,OAAO,EAAE,mBAAmB;aAC7B,CAAC,CAAC;YACH,MAAM,OAAO,CAAC,OAAO,EAAE,CAAC;YACxB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAE,KAAK,CAAE,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;gBAC7C,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBACjB,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC5B,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC5B,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC7B,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC3B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC;gBAC3D,OAAO,CAAC,OAAO,EAAE,CAAC;gBAClB,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;oBAClB,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;iBAClE;YACH,CAAC,EAAE,GAAG,CAAC,EAAE;gBACP,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBACjB,OAAO,CAAC,OAAO,EAAE,CAAC;YACpB,CAAC,CAAC,CAAC;QACL,CAAC;KAAA;IAED,OAAO;QACL,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;QAC/C,MAAM,KAAK,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,KAAK,EAAE,OAAO,GAAG,IAAI,CAAC,IAAI,GAAG,UAAU;gBACxE,OAAO,GAAG,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,KAAK,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,EAAE,CAAC;QAC7E,IAAI,CAAC,WAAW,CAAC,IAAI,CAAE,KAAK,CAAE,CAAC,SAAS,CACtC,CAAO,GAAQ,EAAE,EAAE,CAAC;YAClB,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;YAC1B,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,SAAS,EAAE;gBAC7B,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,qDAAqD,CAAC,CAAC;aACnF;iBAAM;gBACL,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;oBACxC,OAAO,EAAE,oCAAoC;oBAC7C,QAAQ,EAAE,IAAI;iBACf,CAAC,CAAC;gBACH,KAAK,CAAC,OAAO,EAAE,CAAC;aACjB;QACH,CAAC,GAAE,GAAG,CAAC,EAAE;YACP,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACnB,CAAC,CACF,CAAC;IACJ,CAAC;IAEK,qBAAqB;;YACzB,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBACxC,SAAS,EAAE,kEAAS;gBACpB,cAAc,EAAE;oBACd,KAAK,EAAE,eAAe;iBACvB;gBACD,QAAQ,EAAE,aAAa;aAExB,CAAC,CAAC;YACH,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;YACtB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,KAAK,CAAC,aAAa,EAAE,CAAC;YAC7C,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YAClB,IAAI,IAAI,IAAI,SAAS,EAAE;gBACrB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,qBAAqB,EAAE,CAAC;aACtD;QAEH,CAAC;KAAA;CACF;;YAtE8B,kEAAe;YACV,kEAAW;YACb,8DAAe;YACf,8DAAe;YACjB,sFAAgB;YACZ,gEAAiB;;AArBxC,YAAY;IALxB,+DAAS,CAAC;QACT,QAAQ,EAAE,cAAc;QACxB,wNAAmC;;KAEpC,CAAC;2EAiB6B,kEAAe;QACV,kEAAW;QACb,8DAAe;QACf,8DAAe;QACjB,sFAAgB;QACZ,gEAAiB;GArBxC,YAAY,CAsFxB;AAtFwB","file":"pages-infouser-infouser-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar class=\\\"gradient-header\\\" color=\\\"app\\\">\\n      <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"user\\\"></ion-back-button>\\n      </ion-buttons>\\n      <ion-title slot=\\\"end\\\">Mis Datos</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n  <ion-grid>\\n    <ion-row>\\n      <h2>Datos de la cuenta</h2>\\n    </ion-row>\\n    <ion-list>\\n    <ion-item>\\n      <ion-col>\\n        <ion-label size=\\\"3\\\" class=\\\"ion-text-right\\\">Nombre </ion-label>\\n      </ion-col>\\n      <ion-col size=\\\"9\\\">\\n        <ion-input [(ngModel)]=\\\"nusr\\\" style=\\\"color: #000000; font-weight: 300;\\\" value=\\\"{{ nameusr }}\\\"></ion-input>\\n      </ion-col>\\n    </ion-item>\\n    <ion-item>\\n      <ion-col>\\n        <ion-label size=\\\"3\\\" class=\\\"ion-text-right\\\">Correo </ion-label>\\n      </ion-col>\\n      <ion-col size=\\\"9\\\">\\n        <ion-input [(ngModel)]=\\\"musr\\\" style=\\\"color: #000000; font-weight: 300;\\\" readonly value=\\\"{{ mailusr }}\\\"></ion-input>\\n      </ion-col>\\n    </ion-item>\\n    <ion-item>\\n      <ion-col>\\n        <ion-label size=\\\"3\\\" class=\\\"ion-text-right\\\">Teléfono </ion-label>\\n      </ion-col>\\n      <ion-col size=\\\"9\\\">\\n        <ion-input [(ngModel)]=\\\"pusr\\\" style=\\\"color: #000000; font-weight: 300;\\\" value=\\\"{{ phoneusr }}\\\"></ion-input>\\n      </ion-col>\\n    </ion-item>\\n    <ion-item>\\n      <ion-col>\\n        <ion-label size=\\\"3\\\" class=\\\"ion-text-right\\\">Cédula </ion-label>\\n      </ion-col>\\n      <ion-col size=\\\"9\\\">\\n        <ion-input [(ngModel)]=\\\"cusr\\\" style=\\\"color: #000000; font-weight: 300;\\\" value=\\\"{{ cedusr }}\\\"></ion-input>\\n      </ion-col>\\n    </ion-item>\\n  </ion-list>\\n  <ion-row>\\n    <ion-col>\\n      <ion-button color=\\\"btnapp ion-text-capitalize\\\" class=\\\"btnapp\\\" style=\\\"height: 50px;\\\"\\n                  expand=\\\"block\\\" (click)=\\\"actInfo()\\\">\\n        Actualizar información\\n      </ion-button>\\n    </ion-col>\\n  </ion-row>\\n  <ion-row class=\\\"ion-hide\\\" id=\\\"verified\\\">\\n    <ion-col class=\\\"ion-padding-start\\\">\\n      <p (click)=\\\"sendEmailVerification()\\\" style=\\\"color: blue;\\\">Reenviar correo de verificación?</p>\\n    </ion-col>\\n  </ion-row>\\n</ion-grid>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { InfouserPage } from './infouser.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: InfouserPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class InfouserPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { InfouserPageRoutingModule } from './infouser-routing.module';\n\nimport { InfouserPage } from './infouser.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    InfouserPageRoutingModule\n  ],\n  declarations: [InfouserPage]\n})\nexport class InfouserPageModule {}\n","export default \".app {\\n  background: var(--ion-color-insideapp) !important;\\n  color: #F8F8F8 !important;\\n}\\n\\n.btnapp {\\n  background: var(--ion-color-btnapp) !important;\\n  color: #f8f8f8;\\n  height: 50px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbmRyZXNjZXNwZWRlcy9Eb2N1bWVudHMvYXBwcy9hcHBiYXNlL3NyYy9hcHAvcGFnZXMvaW5mb3VzZXIvaW5mb3VzZXIucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9pbmZvdXNlci9pbmZvdXNlci5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxpREFBQTtFQUNBLHlCQUFBO0FDQ0o7O0FERUE7RUFDSSw4Q0FBQTtFQUNBLGNBQUE7RUFDQSxZQUFBO0FDQ0oiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9pbmZvdXNlci9pbmZvdXNlci5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYXBwIHtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3ItaW5zaWRlYXBwKSAhaW1wb3J0YW50O1xuICAgIGNvbG9yOiAjRjhGOEY4ICFpbXBvcnRhbnQ7XG59XG5cbi5idG5hcHB7XG4gICAgYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLWJ0bmFwcCkgIWltcG9ydGFudDtcbiAgICBjb2xvcjogI2Y4ZjhmODtcbiAgICBoZWlnaHQ6IDUwcHg7XG59IiwiLmFwcCB7XG4gIGJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1pbnNpZGVhcHApICFpbXBvcnRhbnQ7XG4gIGNvbG9yOiAjRjhGOEY4ICFpbXBvcnRhbnQ7XG59XG5cbi5idG5hcHAge1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3ItYnRuYXBwKSAhaW1wb3J0YW50O1xuICBjb2xvcjogI2Y4ZjhmODtcbiAgaGVpZ2h0OiA1MHB4O1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { CrudService } from '../../services/crud.service';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { environment } from '../../../environments/environment';\nimport { ToastController, ModalController, LoadingController } from '@ionic/angular';\nimport { AlertPage } from '../../modals/alert/alert.page';\nimport { GeneralComponent } from '../../components/general/general.component';\nconst impresa = environment.impresa;\n\n@Component({\n  selector: 'app-infouser',\n  templateUrl: './infouser.page.html',\n  styleUrls: ['./infouser.page.scss'],\n})\nexport class InfouserPage implements OnInit {\n  // tslint:disable: triple-equals\n  verified: any;\n  userid: string;\n  nameusr: string;\n  mailusr: string;\n  phoneusr: string;\n  cedusr: number;\n  tname: any;\n  tmail: any;\n  tphone: any;\n  nusr: any;\n  musr: any;\n  pusr: any;\n  cusr: any;\n\n  constructor( private afAuth: AngularFireAuth,\n               private crudService: CrudService,\n               private toastCtrl: ToastController,\n               private modalCtrl: ModalController,\n               private general: GeneralComponent,\n               private loadingCtrl: LoadingController ) { }\n\n  async ngOnInit() {\n    this.userid = this.afAuth.auth.currentUser.uid;\n    const datos = { sel: '', tbl: 8, where: '\"' + this.userid + '\"' };\n    const loading = await this.loadingCtrl.create({\n      message: 'Cargando datos...'\n    });\n    await loading.present();\n    this.crudService.crud( datos ).subscribe(res => {\n      console.log(res);\n      this.nameusr = res[0][0][1];\n      this.mailusr = res[0][0][3];\n      this.phoneusr = res[0][0][4];\n      this.cedusr = res[0][0][5];\n      this.verified = this.afAuth.auth.currentUser.emailVerified;\n      loading.dismiss();\n      if (!this.verified) {\n        document.getElementById('verified').classList.remove('ion-hide');\n      }\n    }, err => {\n      console.log(err);\n      loading.dismiss();\n    });\n  }\n\n  actInfo() {\n    console.log(this.nusr, this.pusr, this.userid);\n    const datos = { sel: '', tbl: 6, where: '2,0,\"' + this.nusr + '\",\"\",\"\",' +\n    impresa + ',\"' + this.pusr + '\",\"' + this.userid + '\",' + this.cusr + ',0' };\n    this.crudService.crud( datos ).subscribe(\n      async (res: any) => {\n        console.log(res[0].ERROR);\n        if (res[0].ERROR != undefined) {\n          this.general.mostrar_error('El teléfono y la cédula deben contener solo números');\n        } else {\n          const toast = await this.toastCtrl.create({\n            message: 'Información guardada correctamente',\n            duration: 2000\n          });\n          toast.present();\n        }\n      }, err => {\n        console.log(err);\n      }\n    );\n  }\n\n  async sendEmailVerification() {\n    const modal = await this.modalCtrl.create({\n      component: AlertPage,\n      componentProps: {\n        error: 'Enviar correo'\n      },\n      cssClass: 'alert-modal'\n\n    });\n    await modal.present();\n    const { data } = await modal.onWillDismiss();\n    console.log(data);\n    if (data != undefined) {\n      this.afAuth.auth.currentUser.sendEmailVerification();\n    }\n\n  }\n}\n"],"sourceRoot":"webpack:///"}